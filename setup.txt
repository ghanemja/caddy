# PointNet++ Model Setup Guide

## Quick Start

1. **Download the pretrained model:**
   ```bash
   # Clone the repository
   git clone https://github.com/yanx27/Pointnet_Pointnet2_pytorch.git
   cd Pointnet_Pointnet2_pytorch
   
   # The pretrained model should be in the log/ directory
   # Look for: pointnet2_part_seg_msg.pth
   ```

2. **Copy the model to the expected location:**
   ```bash
   # From the Pointnet_Pointnet2_pytorch directory
   cp log/pointnet2_part_seg_msg.pth ../optim/models/pointnet2/
   ```

3. **Verify the model is in place:**
   ```bash
   ls -lh models/pointnet2/pointnet2_part_seg_msg.pth
   ```
   The file should be several hundred MB (typically 200-500 MB).

## Alternative: Custom Path

If you want to place the model elsewhere, set the environment variable:
```bash
export POINTNET2_CHECKPOINT=/path/to/your/pointnet2_part_seg_msg.pth
```

Then run the example scripts as normal.

## Testing

Once the model is in place, test it:
```bash
# Basic segmentation test
python examples/run_pointnet_seg.py

# Full ingestion pipeline test
python examples/run_ingest_mesh.py
```

## Troubleshooting

**Model not found:**
- Check that the file exists at `models/pointnet2/pointnet2_part_seg_msg.pth`
- Or set `POINTNET2_CHECKPOINT` environment variable

**Model loading errors:**
- Ensure PyTorch is installed: `pip install torch`
- Check that the model file is not corrupted (should be 200-500 MB)
- Try downloading the model again if it seems corrupted

**CUDA errors:**
- The model will automatically use CPU if CUDA is not available
- For faster inference, ensure CUDA is properly set up

## Model Details

- **Model**: PointNet++ with Multi-Scale Grouping (MSG)
- **Task**: Part segmentation on ShapeNetPart
- **Classes**: 50 part classes across 16 object categories
- **Input**: Point clouds with normals (6D: XYZ + normal vectors)
- **Output**: Per-point part labels

## Reference

Original repository: https://github.com/yanx27/Pointnet_Pointnet2_pytorch

